h1. ExpressJS Extras Package

This package contains extra middleware options for ExpressJS.

Currently it only contains 2, but I will be adding to them as I need them ;)

h2. Installation

<pre class="console">npm install express-extras</pre>

h2. extras.fixIP

<pre class="console">
    This middleware module attempts to normalize req.socket.remoteAddress
    when working with a proxy (like nginx).
</pre>

<pre class="console">
app.use(extras.fixIP());
Or
app.use(extras.fixIP([ 'x-forwarded-for', 'forwarded-for', 'x-cluster-ip' ]));
</pre>



h2. extras.throttle

<pre class="console">
Attempts to throttle requests based on the number of times a given resource is accessed.
Once the throttle is reached, a 403 is served to them for the "holdTime" (default 10 seconds)
127.0.0.1 is automatically whitelisted (for development, monit, nagios, etc..)
Probably should be used with/after extras.fixIP so that the users real IP is sent to the throttle.
</pre>

<pre class="console">
Use the defaults..
app.use(extras.throttle());

Or
//The default config shown..
app.use(extras.throttle({
  urlCount: 5,
  urlSec: 1,
  holdTime: 10,
  whitelist: {
      '127.0.0.1': true
  }
}));
</pre>


h2. Dependancies

"Express":http://expressjs.com/ : LICENSE (MIT)
    
<pre class="console">npm install express</pre>

"Connect":http://github.com/senchalabs/connect : LICENSE (MIT)
    
 <pre class="console">npm install connect</pre>

